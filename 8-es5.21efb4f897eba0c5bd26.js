!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function n(t,n,c){return n&&e(t.prototype,n),c&&e(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"4aYi":function(e,c,a){"use strict";a.r(c),a.d(c,"EpisodesModule",(function(){return q}));var r=a("ofXK"),i=a("PCNd"),o=a("tyNb"),s=a("XNiG"),u=a("Kj3r"),b=a("02Lk"),p=a("TwVa"),l=a("iFvM"),f=a("XrNA"),d=a("fXoL"),h=a("l7P3"),m=a("bv9b"),g=a("+0xr"),D=a("bTqV"),C=a("5/t5"),v=a("M9IT"),S=a("sYmb");function E(t,e){1&t&&d.Pb(0,"mat-progress-bar",2)}function I(t,e){if(1&t&&(d.Sb(0),d.Dc(1,E,1,0,"mat-progress-bar",1),d.Rb()),2&t){var n=e.ngIf,c=d.gc();d.Cb(1),d.mc("ngIf",n===c.dataStateTypes.LOADING||n===c.dataStateTypes.REFRESHING)}}function y(t,e){1&t&&(d.Ub(0,"th",17),d.Fc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Gc(d.ic(2,1,"EPISODES.FIELDS.NUM")))}var T=function(t){return["/episodes",t]};function w(t,e){if(1&t&&(d.Ub(0,"td",18),d.Fc(1),d.Tb()),2&t){var n=e.$implicit;d.mc("routerLink",d.pc(2,T,n.id)),d.Cb(1),d.Hc(" ",n.id," ")}}function O(t,e){1&t&&(d.Ub(0,"th",17),d.Fc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Gc(d.ic(2,1,"EPISODES.FIELDS.EPISODE")))}function P(t,e){if(1&t&&(d.Ub(0,"td",18),d.Fc(1),d.Tb()),2&t){var n=e.$implicit;d.mc("routerLink",d.pc(2,T,n.id)),d.Cb(1),d.Hc(" ",n.episode," ")}}function F(t,e){1&t&&(d.Ub(0,"th",17),d.Fc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Gc(d.ic(2,1,"EPISODES.FIELDS.NAME")))}function R(t,e){if(1&t&&(d.Ub(0,"td",18),d.Fc(1),d.Tb()),2&t){var n=e.$implicit;d.mc("routerLink",d.pc(2,T,n.id)),d.Cb(1),d.Hc(" ",n.name," ")}}function k(t,e){1&t&&(d.Ub(0,"th",17),d.Fc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Gc(d.ic(2,1,"EPISODES.FIELDS.AIR_DATE")))}function U(t,e){if(1&t&&(d.Ub(0,"td",19),d.Fc(1),d.Tb()),2&t){var n=e.$implicit;d.Cb(1),d.Gc(n.air_date)}}function L(t,e){1&t&&(d.Ub(0,"th",17),d.Fc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Gc(d.ic(2,1,"EPISODES.FIELDS.CHARACTERS")))}var $=function(t){return{number:t}};function H(t,e){if(1&t){var n=d.Vb();d.Ub(0,"td",19),d.Ub(1,"button",20),d.cc("click",(function(){d.uc(n);var t=e.$implicit;return d.gc(2).openCharactersDialog(t)})),d.Fc(2),d.hc(3,"translate"),d.Tb(),d.Tb()}if(2&t){var c=e.$implicit;d.Cb(1),d.mc("disabled",c.characters.length<1),d.Cb(1),d.Hc(" ",d.jc(3,2,null!=c.characters&&c.characters.length?"EPISODES.CHARACTERS":"EPISODES.NO_CHARACTERS",d.pc(5,$,null==c.characters?null:c.characters.length))," ")}}function j(t,e){1&t&&d.Pb(0,"tr",21)}function A(t,e){if(1&t){var n=d.Vb();d.Ub(0,"tr",22),d.cc("prefetch",(function(){d.uc(n);var t=e.$implicit;return d.gc(2).prefetchCharactersOnHover(t)})),d.Tb()}2&t&&d.mc("prefetchHovered",!0)}function M(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-paginator",23),d.cc("page",(function(t){return d.uc(n),d.gc(2).changePage(t)})),d.hc(1,"async"),d.hc(2,"async"),d.Tb()}if(2&t){var c=d.gc(2);d.mc("pageIndex",d.ic(1,3,c.currentPage$)-1)("length",d.ic(2,5,c.totalEpisodes$))("pageSize",c.pageSize)}}function G(t,e){if(1&t&&(d.Sb(0),d.Ub(1,"div",3),d.Ub(2,"div",4),d.Ub(3,"table",5),d.Sb(4,6),d.Dc(5,y,3,3,"th",7),d.Dc(6,w,2,4,"td",8),d.Rb(),d.Sb(7,9),d.Dc(8,O,3,3,"th",7),d.Dc(9,P,2,4,"td",8),d.Rb(),d.Sb(10,10),d.Dc(11,F,3,3,"th",7),d.Dc(12,R,2,4,"td",8),d.Rb(),d.Sb(13,11),d.Dc(14,k,3,3,"th",7),d.Dc(15,U,2,1,"td",12),d.Rb(),d.Sb(16,13),d.Dc(17,L,3,3,"th",7),d.Dc(18,H,4,7,"td",12),d.Rb(),d.Dc(19,j,1,0,"tr",14),d.Dc(20,A,1,1,"tr",15),d.Tb(),d.Tb(),d.Dc(21,M,3,7,"mat-paginator",16),d.Tb(),d.Rb()),2&t){var n=e.ngIf,c=d.gc();d.Cb(3),d.mc("dataSource",n),d.Cb(16),d.mc("matHeaderRowDef",c.displayedColumns),d.Cb(1),d.mc("matRowDefColumns",c.displayedColumns),d.Cb(1),d.mc("ngIf",!!n.length)}}var N,_,x,z,V=[{path:"",component:(_=function(){function e(n,c){t(this,e),this.store=n,this.router=c,this.dataState$=this.store.select(f.d.getDataState),this.episodes$=this.store.select(f.d.getEpisodes),this.totalEpisodes$=this.store.select(f.d.getTotalEpisodes),this.currentPage$=this.store.select(f.d.getCurrentPage),this.dataStateTypes=p.d,this.pageSize=p.f,this.displayedColumns=["id","episode","name","air_date","characters"],this.hoverEpisode$=new s.a}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.hoverEpisode$.pipe(Object(l.h)(this),Object(u.a)(300),Object(b.a)((function(t){return t.id}))).subscribe((function(e){return t.store.dispatch(f.b.hoverEpisodeLine({episode:e}))}))}},{key:"ngOnDestroy",value:function(){}},{key:"prefetchCharactersOnHover",value:function(t){this.hoverEpisode$.next(t)}},{key:"openCharactersDialog",value:function(t){}},{key:"changePage",value:function(t){this.router.navigate([],{queryParams:{page:t.pageIndex+1},queryParamsHandling:"merge"})}}]),e}(),_.\u0275fac=function(t){return new(t||_)(d.Ob(h.h),d.Ob(o.f))},_.\u0275cmp=d.Ib({type:_,selectors:[["app-episodes-list"]],decls:6,vars:6,consts:[[4,"ngIf"],["class","progress-bar--top","mode","indeterminate",4,"ngIf"],["mode","indeterminate",1,"progress-bar--top"],[1,"content"],[1,"table-responsive"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","pointer-cursor",3,"routerLink",4,"matCellDef"],["matColumnDef","episode"],["matColumnDef","name"],["matColumnDef","air_date"],["mat-cell","",4,"matCellDef"],["matColumnDef","characters"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"prefetchHovered","prefetch",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageIndex","length","pageSize","page",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"pointer-cursor",3,"routerLink"],["mat-cell",""],["mat-stroked-button","","color","primary",1,"characters-button",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"prefetchHovered","prefetch"],["showFirstLastButtons","",3,"pageIndex","length","pageSize","page"]],template:function(t,e){1&t&&(d.Ub(0,"p"),d.Fc(1,"filter here!"),d.Tb(),d.Dc(2,I,2,1,"ng-container",0),d.hc(3,"async"),d.Dc(4,G,22,4,"ng-container",0),d.hc(5,"async")),2&t&&(d.Cb(2),d.mc("ngIf",d.ic(3,2,e.dataState$)),d.Cb(2),d.mc("ngIf",d.ic(5,4,e.episodes$)))},directives:[r.l,m.a,g.j,g.c,g.e,g.b,g.g,g.i,g.d,g.a,o.g,D.b,g.f,g.h,C.a,v.a],pipes:[r.b,S.c],styles:[".content[_ngcontent-%COMP%]{margin-top:24px}.pointer-cursor[_ngcontent-%COMP%]{cursor:pointer}.characters-button[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),_)},{path:":id",component:(N=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}(),N.\u0275fac=function(t){return new(t||N)},N.\u0275cmp=d.Ib({type:N,selectors:[["app-episode-details"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Ub(0,"p"),d.Fc(1,"episode-details works!"),d.Tb())},styles:[""],changeDetection:0}),N)}],X=((z=function e(){t(this,e)}).\u0275mod=d.Mb({type:z}),z.\u0275inj=d.Lb({factory:function(t){return new(t||z)},imports:[[o.j.forChild(V)],o.j]}),z),q=((x=function e(){t(this,e)}).\u0275mod=d.Mb({type:x}),x.\u0275inj=d.Lb({factory:function(t){return new(t||x)},imports:[[r.c,X,i.a]]}),x)}}])}();