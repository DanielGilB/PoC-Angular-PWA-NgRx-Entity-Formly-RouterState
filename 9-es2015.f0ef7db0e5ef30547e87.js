(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{ANty:function(t,e,n){"use strict";n.r(e),n.d(e,"LocationsModule",(function(){return G}));var c=n("ofXK"),i=n("PCNd"),o=n("tyNb"),a=n("XNiG"),s=n("Kj3r"),r=n("02Lk"),b=n("TwVa"),l=n("iFvM"),d=n("Ns9j"),u=n("fXoL"),p=n("l7P3"),m=n("bv9b"),f=n("+0xr"),h=n("bTqV"),g=n("5/t5"),D=n("M9IT"),C=n("sYmb");function S(t,e){1&t&&u.Pb(0,"mat-progress-bar",2)}function I(t,e){if(1&t&&(u.Sb(0),u.Dc(1,S,1,0,"mat-progress-bar",1),u.Rb()),2&t){const t=e.ngIf,n=u.gc();u.Cb(1),u.mc("ngIf",t===n.dataStateTypes.LOADING||t===n.dataStateTypes.REFRESHING)}}function T(t,e){1&t&&(u.Ub(0,"th",17),u.Fc(1),u.hc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Gc(u.ic(2,1,"LOCATIONS.FIELDS.NUM")))}const L=function(t){return["/locations",t]};function O(t,e){if(1&t&&(u.Ub(0,"td",18),u.Fc(1),u.Tb()),2&t){const t=e.$implicit;u.mc("routerLink",u.pc(2,L,t.id)),u.Cb(1),u.Hc(" ",t.id," ")}}function y(t,e){1&t&&(u.Ub(0,"th",17),u.Fc(1),u.hc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Gc(u.ic(2,1,"LOCATIONS.FIELDS.NAME")))}function w(t,e){if(1&t&&(u.Ub(0,"td",18),u.Fc(1),u.Tb()),2&t){const t=e.$implicit;u.mc("routerLink",u.pc(2,L,t.id)),u.Cb(1),u.Hc(" ",t.name," ")}}function N(t,e){1&t&&(u.Ub(0,"th",17),u.Fc(1),u.hc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Gc(u.ic(2,1,"LOCATIONS.FIELDS.TYPE")))}function F(t,e){if(1&t&&(u.Ub(0,"td",19),u.Fc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Gc(t.type)}}function R(t,e){1&t&&(u.Ub(0,"th",17),u.Fc(1),u.hc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Gc(u.ic(2,1,"LOCATIONS.FIELDS.DIMENSION")))}function v(t,e){if(1&t&&(u.Ub(0,"td",19),u.Fc(1),u.Tb()),2&t){const t=e.$implicit;u.Cb(1),u.Gc(t.dimension)}}function U(t,e){1&t&&(u.Ub(0,"th",17),u.Fc(1),u.hc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Gc(u.ic(2,1,"LOCATIONS.FIELDS.RESIDENTS")))}const $=function(t){return{number:t}};function E(t,e){if(1&t){const t=u.Vb();u.Ub(0,"td",19),u.Ub(1,"button",20),u.cc("click",(function(){u.uc(t);const n=e.$implicit;return u.gc(2).openResidentsDialog(n)})),u.Fc(2),u.hc(3,"translate"),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(1),u.mc("disabled",t.residents.length<1),u.Cb(1),u.Hc(" ",u.jc(3,2,null!=t.residents&&t.residents.length?"LOCATIONS.RESIDENTS":"LOCATIONS.NO_RESIDENTS",u.pc(5,$,null==t.residents?null:t.residents.length))," ")}}function P(t,e){1&t&&u.Pb(0,"tr",21)}function H(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr",22),u.cc("prefetch",(function(){u.uc(t);const n=e.$implicit;return u.gc(2).prefetchResidentsOnHover(n)})),u.Tb()}2&t&&u.mc("prefetchHovered",!0)}function j(t,e){if(1&t){const t=u.Vb();u.Ub(0,"mat-paginator",23),u.cc("page",(function(e){return u.uc(t),u.gc(2).changePage(e)})),u.hc(1,"async"),u.hc(2,"async"),u.Tb()}if(2&t){const t=u.gc(2);u.mc("pageIndex",u.ic(1,3,t.currentPage$)-1)("length",u.ic(2,5,t.totalLocations$))("pageSize",t.pageSize)}}function k(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",3),u.Ub(2,"div",4),u.Ub(3,"table",5),u.Sb(4,6),u.Dc(5,T,3,3,"th",7),u.Dc(6,O,2,4,"td",8),u.Rb(),u.Sb(7,9),u.Dc(8,y,3,3,"th",7),u.Dc(9,w,2,4,"td",8),u.Rb(),u.Sb(10,10),u.Dc(11,N,3,3,"th",7),u.Dc(12,F,2,1,"td",11),u.Rb(),u.Sb(13,12),u.Dc(14,R,3,3,"th",7),u.Dc(15,v,2,1,"td",11),u.Rb(),u.Sb(16,13),u.Dc(17,U,3,3,"th",7),u.Dc(18,E,4,7,"td",11),u.Rb(),u.Dc(19,P,1,0,"tr",14),u.Dc(20,H,1,1,"tr",15),u.Tb(),u.Tb(),u.Dc(21,j,3,7,"mat-paginator",16),u.Tb(),u.Rb()),2&t){const t=e.ngIf,n=u.gc();u.Cb(3),u.mc("dataSource",t),u.Cb(16),u.mc("matHeaderRowDef",n.displayedColumns),u.Cb(1),u.mc("matRowDefColumns",n.displayedColumns),u.Cb(1),u.mc("ngIf",!!t.length)}}const M=[{path:"",component:(()=>{class t{constructor(t,e){this.store=t,this.router=e,this.dataState$=this.store.select(d.d.getDataState),this.locations$=this.store.select(d.d.getLocations),this.totalLocations$=this.store.select(d.d.getTotalLocations),this.currentPage$=this.store.select(d.d.getCurrentPage),this.dataStateTypes=b.d,this.pageSize=b.f,this.displayedColumns=["id","name","type","dimension","residents"],this.hoverLocation$=new a.a}ngOnInit(){this.hoverLocation$.pipe(Object(l.h)(this),Object(s.a)(300),Object(r.a)(({id:t})=>t)).subscribe(t=>this.store.dispatch(d.b.hoverLocationLine({location:t})))}ngOnDestroy(){}prefetchResidentsOnHover(t){this.hoverLocation$.next(t)}openResidentsDialog(t){}changePage(t){this.router.navigate([],{queryParams:{page:t.pageIndex+1},queryParamsHandling:"merge"})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(p.h),u.Ob(o.f))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-locations-list"]],decls:6,vars:6,consts:[[4,"ngIf"],["class","progress-bar--top","mode","indeterminate",4,"ngIf"],["mode","indeterminate",1,"progress-bar--top"],[1,"content"],[1,"table-responsive"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","pointer-cursor",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-cell","",4,"matCellDef"],["matColumnDef","dimension"],["matColumnDef","residents"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"prefetchHovered","prefetch",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageIndex","length","pageSize","page",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"pointer-cursor",3,"routerLink"],["mat-cell",""],["mat-stroked-button","","color","primary",1,"residents-button",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"prefetchHovered","prefetch"],["showFirstLastButtons","",3,"pageIndex","length","pageSize","page"]],template:function(t,e){1&t&&(u.Ub(0,"p"),u.Fc(1,"filter here!"),u.Tb(),u.Dc(2,I,2,1,"ng-container",0),u.hc(3,"async"),u.Dc(4,k,22,4,"ng-container",0),u.hc(5,"async")),2&t&&(u.Cb(2),u.mc("ngIf",u.ic(3,2,e.dataState$)),u.Cb(2),u.mc("ngIf",u.ic(5,4,e.locations$)))},directives:[c.l,m.a,f.j,f.c,f.e,f.b,f.g,f.i,f.d,f.a,o.g,h.b,f.f,f.h,g.a,D.a],pipes:[c.b,C.c],styles:[".content[_ngcontent-%COMP%]{margin-top:24px}.pointer-cursor[_ngcontent-%COMP%]{cursor:pointer}.residents-button[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),t})()},{path:":id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Ib({type:t,selectors:[["app-location-details"]],decls:2,vars:0,template:function(t,e){1&t&&(u.Ub(0,"p"),u.Fc(1,"location-details works!"),u.Tb())},styles:[""],changeDetection:0}),t})()}];let A=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(M)],o.j]}),t})(),G=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[c.c,A,i.a]]}),t})()}}]);